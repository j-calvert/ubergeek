<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_05) on Sun Jun 04 21:23:17 PDT 2006 -->
<TITLE>
Member.BallotProcessor
</TITLE>

<META NAME="keywords" CONTENT="edu.washington.cs.ds.jeremyc.paxos.Member.BallotProcessor class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="Member.BallotProcessor";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Member.BallotProcessor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.html" title="class in edu.washington.cs.ds.jeremyc.paxos"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/MemberID.html" title="class in edu.washington.cs.ds.jeremyc.paxos"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Member.BallotProcessor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_classes_inherited_from_class_java.lang.Thread">NESTED</A>&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_java.lang.Thread">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
edu.washington.cs.ds.jeremyc.paxos</FONT>
<BR>
Class Member.BallotProcessor</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by ">java.lang.Thread
      <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><B>edu.washington.cs.ds.jeremyc.paxos.Member.BallotProcessor</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.lang.Runnable</DD>
</DL>
<DL>
<DT><B>Enclosing class:</B><DD><A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Member</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>private class <B>Member.BallotProcessor</B><DT>extends java.lang.Thread</DL>
</PRE>

<P>
A thread that initiates action based on data in Paper and Ledger.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_java.lang.Thread"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from class java.lang.Thread</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>java.lang.Thread.State, java.lang.Thread.UncaughtExceptionHandler</CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_java.lang.Thread"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class java.lang.Thread</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html#Member.BallotProcessor(int)">Member.BallotProcessor</A></B>(int&nbsp;portNum)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html#multicastCall(edu.washington.cs.ds.jeremyc.paxos.Message)">multicastCall</A></B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Message.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Message</A>&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A utility method to send the same message to all other members.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html#ownThisBallotNumber(edu.washington.cs.ds.jeremyc.paxos.BallotNumber)">ownThisBallotNumber</A></B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/BallotNumber.html" title="class in edu.washington.cs.ds.jeremyc.paxos">BallotNumber</A>&nbsp;bn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A utility method to determine if this member (host) owns the provided ballot number</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Periodically runs through ledger and initiates messages based on paper and ledger data.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html#sendBeginBallot(edu.washington.cs.ds.jeremyc.paxos.Ledger, edu.washington.cs.ds.jeremyc.paxos.Paper)">sendBeginBallot</A></B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l,
                <A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Paper.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Paper</A>&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the status on the slip of paper equals POLLING, then this member (a proposer) send a
 begin ballot message to all members (which by definition of "all", will include our
 assemblyIDs).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html#sendLastVote(edu.washington.cs.ds.jeremyc.paxos.Ledger)">sendLastVote</A></B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends a last vote message to the owner of the ballot number in the getNextBal field of
 the ledger entry...provided that getNextBal is greater than getPrevBal.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html#sendNextBallot(edu.washington.cs.ds.jeremyc.paxos.Ledger, edu.washington.cs.ds.jeremyc.paxos.Paper)">sendNextBallot</A></B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l,
               <A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Paper.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Paper</A>&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends a NextBallot message to all members provided that the piece of paper indicates that
 the status of this decree is TRYING (ie, tryNewBallot has set this status)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html#sendSucceeded(edu.washington.cs.ds.jeremyc.paxos.Ledger, edu.washington.cs.ds.jeremyc.paxos.Paper)">sendSucceeded</A></B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l,
              <A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Paper.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Paper</A>&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If we've reached consensus on this ballot, and we're the owner of the ballot (according
 to the ballot number) then we send a message to all members (learners) indicating such.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html#sendVoted(edu.washington.cs.ds.jeremyc.paxos.Ledger)">sendVoted</A></B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If this ledger entry has a non-null PrevBal number, then we send the message that we have
 voted for this ballot number to the owner of the ballot.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html#startPollingMajoritySet(edu.washington.cs.ds.jeremyc.paxos.Paper)">startPollingMajoritySet</A></B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Paper.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Paper</A>&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the number of members in the paper's PrevVotes set is greater than half the set of all
 members (a majority) then we start polling, meaning, we set the status on the piece of
 paper to POLLING, set the assemblyIDs on the piece of paper to the members in PrevVotes</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html#succeed(edu.washington.cs.ds.jeremyc.paxos.Ledger, edu.washington.cs.ds.jeremyc.paxos.Paper)">succeed</A></B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l,
        <A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Paper.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Paper</A>&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the piece of paper indicates that we're polling for this decree, and the set of voters
 contains the assemblyIDs, we set the outcome of the decree because it's just passed</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html#tryNewBallot(edu.washington.cs.ds.jeremyc.paxos.Ledger, edu.washington.cs.ds.jeremyc.paxos.Paper)">tryNewBallot</A></B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l,
             <A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Paper.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Paper</A>&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For the provided ledger entry, if this member is the owner of the ballot number last
 tried for this decree, (and this is the first time or it's been at least 5 seconds since
 the last time the member did this), then the ledger lastTried ballot number is
 instantiated or incrememnted, the status is set to TRYING, and the account of prevVotes
 is cleared.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Thread"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Thread</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>activeCount, checkAccess, countStackFrames, currentThread, destroy, dumpStack, enumerate, getAllStackTraces, getContextClassLoader, getDefaultUncaughtExceptionHandler, getId, getName, getPriority, getStackTrace, getState, getThreadGroup, getUncaughtExceptionHandler, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, setContextClassLoader, setDaemon, setDefaultUncaughtExceptionHandler, setName, setPriority, setUncaughtExceptionHandler, sleep, sleep, start, stop, stop, suspend, toString, yield</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Member.BallotProcessor(int)"><!-- --></A><H3>
Member.BallotProcessor</H3>
<PRE>
public <B>Member.BallotProcessor</B>(int&nbsp;portNum)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public void <B>run</B>()</PRE>
<DL>
<DD>Periodically runs through ledger and initiates messages based on paper and ledger data.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>run</CODE> in interface <CODE>java.lang.Runnable</CODE><DT><B>Overrides:</B><DD><CODE>run</CODE> in class <CODE>java.lang.Thread</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="tryNewBallot(edu.washington.cs.ds.jeremyc.paxos.Ledger, edu.washington.cs.ds.jeremyc.paxos.Paper)"><!-- --></A><H3>
tryNewBallot</H3>
<PRE>
private void <B>tryNewBallot</B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l,
                          <A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Paper.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Paper</A>&nbsp;p)
                   throws com.sleepycat.je.DatabaseException</PRE>
<DL>
<DD>For the provided ledger entry, if this member is the owner of the ballot number last
 tried for this decree, (and this is the first time or it's been at least 5 seconds since
 the last time the member did this), then the ledger lastTried ballot number is
 instantiated or incrememnted, the status is set to TRYING, and the account of prevVotes
 is cleared.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>l</CODE> - The ledger entry<DD><CODE>p</CODE> - The slip of paper
<DT><B>Throws:</B>
<DD><CODE>com.sleepycat.je.DatabaseException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sendNextBallot(edu.washington.cs.ds.jeremyc.paxos.Ledger, edu.washington.cs.ds.jeremyc.paxos.Paper)"><!-- --></A><H3>
sendNextBallot</H3>
<PRE>
private void <B>sendNextBallot</B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l,
                            <A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Paper.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Paper</A>&nbsp;p)
                     throws java.io.IOException</PRE>
<DL>
<DD>Sends a NextBallot message to all members provided that the piece of paper indicates that
 the status of this decree is TRYING (ie, tryNewBallot has set this status)
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>l</CODE> - The ledger entry<DD><CODE>p</CODE> - The slip of paper
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sendLastVote(edu.washington.cs.ds.jeremyc.paxos.Ledger)"><!-- --></A><H3>
sendLastVote</H3>
<PRE>
private void <B>sendLastVote</B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l)
                   throws java.io.IOException</PRE>
<DL>
<DD>Sends a last vote message to the owner of the ballot number in the getNextBal field of
 the ledger entry...provided that getNextBal is greater than getPrevBal.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>l</CODE> - The ledger entry
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="startPollingMajoritySet(edu.washington.cs.ds.jeremyc.paxos.Paper)"><!-- --></A><H3>
startPollingMajoritySet</H3>
<PRE>
private void <B>startPollingMajoritySet</B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Paper.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Paper</A>&nbsp;p)
                              throws com.sleepycat.je.DatabaseException</PRE>
<DL>
<DD>If the number of members in the paper's PrevVotes set is greater than half the set of all
 members (a majority) then we start polling, meaning, we set the status on the piece of
 paper to POLLING, set the assemblyIDs on the piece of paper to the members in PrevVotes
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>p</CODE> - The slip of paper
<DT><B>Throws:</B>
<DD><CODE>com.sleepycat.je.DatabaseException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sendBeginBallot(edu.washington.cs.ds.jeremyc.paxos.Ledger, edu.washington.cs.ds.jeremyc.paxos.Paper)"><!-- --></A><H3>
sendBeginBallot</H3>
<PRE>
private void <B>sendBeginBallot</B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l,
                             <A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Paper.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Paper</A>&nbsp;p)
                      throws java.io.IOException</PRE>
<DL>
<DD>If the status on the slip of paper equals POLLING, then this member (a proposer) send a
 begin ballot message to all members (which by definition of "all", will include our
 assemblyIDs).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>l</CODE> - The ledger entry<DD><CODE>p</CODE> - The slip of paper
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sendVoted(edu.washington.cs.ds.jeremyc.paxos.Ledger)"><!-- --></A><H3>
sendVoted</H3>
<PRE>
private void <B>sendVoted</B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l)
                throws java.io.IOException</PRE>
<DL>
<DD>If this ledger entry has a non-null PrevBal number, then we send the message that we have
 voted for this ballot number to the owner of the ballot.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>l</CODE> - The ledger entry
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="succeed(edu.washington.cs.ds.jeremyc.paxos.Ledger, edu.washington.cs.ds.jeremyc.paxos.Paper)"><!-- --></A><H3>
succeed</H3>
<PRE>
private void <B>succeed</B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l,
                     <A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Paper.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Paper</A>&nbsp;p)
              throws com.sleepycat.je.DatabaseException</PRE>
<DL>
<DD>If the piece of paper indicates that we're polling for this decree, and the set of voters
 contains the assemblyIDs, we set the outcome of the decree because it's just passed
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>l</CODE> - The ledger entry<DD><CODE>p</CODE> - The piece of paper.
<DT><B>Throws:</B>
<DD><CODE>com.sleepycat.je.DatabaseException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sendSucceeded(edu.washington.cs.ds.jeremyc.paxos.Ledger, edu.washington.cs.ds.jeremyc.paxos.Paper)"><!-- --></A><H3>
sendSucceeded</H3>
<PRE>
private void <B>sendSucceeded</B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Ledger.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Ledger</A>&nbsp;l,
                           <A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Paper.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Paper</A>&nbsp;p)
                    throws java.io.IOException</PRE>
<DL>
<DD>If we've reached consensus on this ballot, and we're the owner of the ballot (according
 to the ballot number) then we send a message to all members (learners) indicating such.
 
 Note: This implies that only the proposer of the ballot informs learners of the ballot's
 success. This is not part of the algorithms specification, and lessens the liklihood of
 progess in the event of failure (specifically, failure in the proposer between ballot
 success and informing others of this success), but we do this to keep success messages
 from overwhelming the log output.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>l</CODE> - The ledger entry<DD><CODE>p</CODE> - The slip of paper
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="multicastCall(edu.washington.cs.ds.jeremyc.paxos.Message)"><!-- --></A><H3>
multicastCall</H3>
<PRE>
private void <B>multicastCall</B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Message.html" title="class in edu.washington.cs.ds.jeremyc.paxos">Message</A>&nbsp;message)
                    throws java.io.IOException</PRE>
<DL>
<DD>A utility method to send the same message to all other members.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - The message being sent.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="ownThisBallotNumber(edu.washington.cs.ds.jeremyc.paxos.BallotNumber)"><!-- --></A><H3>
ownThisBallotNumber</H3>
<PRE>
private boolean <B>ownThisBallotNumber</B>(<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/BallotNumber.html" title="class in edu.washington.cs.ds.jeremyc.paxos">BallotNumber</A>&nbsp;bn)</PRE>
<DL>
<DD>A utility method to determine if this member (host) owns the provided ballot number
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bn</CODE> - The ballot number
<DT><B>Returns:</B><DD>True iff this member owns the provided ballot number</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Member.BallotProcessor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/Member.html" title="class in edu.washington.cs.ds.jeremyc.paxos"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../edu/washington/cs/ds/jeremyc/paxos/MemberID.html" title="class in edu.washington.cs.ds.jeremyc.paxos"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?edu/washington/cs/ds/jeremyc/paxos/Member.BallotProcessor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Member.BallotProcessor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_classes_inherited_from_class_java.lang.Thread">NESTED</A>&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_java.lang.Thread">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
